{"ast":null,"code":"var _jsxFileName = \"D:\\\\CODE\\\\j_fr_frontend\\\\src\\\\components\\\\categories\\\\Categories.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState } from \"react\";\nimport CategoryDropdown from \"./CategoryDropdown\";\nimport { StyledCategory } from \"./CategoryStyle\";\n\nvar Categories = function Categories(_ref) {\n  _s();\n\n  var isOpen = _ref.open,\n      children = _ref.children;\n\n  var _useState = useState(isOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var popoverRef = useRef(open);\n  popoverRef.current = open;\n\n  var toggleMenu = function toggleMenu(e) {\n    e.stopPropagation();\n    if (!isOpen) setOpen(!open);\n  };\n\n  var handleDocumentClick = function handleDocumentClick() {\n    if (popoverRef.current && !isOpen) setOpen(false);\n  };\n\n  useEffect(function () {\n    window.addEventListener(\"click\", handleDocumentClick);\n    return function () {\n      window.removeEventListener(\"click\", handleDocumentClick);\n    };\n  }, []);\n  return __jsx(StyledCategory, {\n    open: open,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.cloneElement(children, {\n    open: open,\n    className: \"\".concat(children.props.className, \" cursor-pointer\"),\n    onClick: toggleMenu\n  }), __jsx(CategoryDropdown, {\n    open: open,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(Categories, \"OXgcC007QhOXDR2yj/O65EcKR04=\");\n\n_c = Categories;\nexport default Categories;\n\nvar _c;\n\n$RefreshReg$(_c, \"Categories\");","map":{"version":3,"sources":["D:/CODE/j_fr_frontend/src/components/categories/Categories.tsx"],"names":["React","useEffect","useRef","useState","CategoryDropdown","StyledCategory","Categories","isOpen","open","children","setOpen","popoverRef","current","toggleMenu","e","stopPropagation","handleDocumentClick","window","addEventListener","removeEventListener","cloneElement","className","props","onClick"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,cAAT,QAA+B,iBAA/B;;AAOA,IAAMC,UAAqC,GAAG,SAAxCA,UAAwC,OAAgC;AAAA;;AAAA,MAAvBC,MAAuB,QAA7BC,IAA6B;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBACpDN,QAAQ,CAACI,MAAD,CAD4C;AAAA,MACrEC,IADqE;AAAA,MAC/DE,OAD+D;;AAE5E,MAAMC,UAAU,GAAGT,MAAM,CAACM,IAAD,CAAzB;AACAG,EAAAA,UAAU,CAACC,OAAX,GAAqBJ,IAArB;;AAEA,MAAMK,UAAU,GAAG,SAAbA,UAAa,CAACC,CAAD,EAAO;AACxBA,IAAAA,CAAC,CAACC,eAAF;AACA,QAAI,CAACR,MAAL,EAAaG,OAAO,CAAC,CAACF,IAAF,CAAP;AACd,GAHD;;AAKA,MAAMQ,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChC,QAAIL,UAAU,CAACC,OAAX,IAAsB,CAACL,MAA3B,EAAmCG,OAAO,CAAC,KAAD,CAAP;AACpC,GAFD;;AAIAT,EAAAA,SAAS,CAAC,YAAM;AACdgB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiCF,mBAAjC;AACA,WAAO,YAAM;AACXC,MAAAA,MAAM,CAACE,mBAAP,CAA2B,OAA3B,EAAoCH,mBAApC;AACD,KAFD;AAGD,GALQ,EAKN,EALM,CAAT;AAOA,SACE,MAAC,cAAD;AAAgB,IAAA,IAAI,EAAER,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACGR,KAAK,CAACoB,YAAN,CAAmBX,QAAnB,EAA6B;AAC5BD,IAAAA,IAAI,EAAJA,IAD4B;AAE5Ba,IAAAA,SAAS,YAAKZ,QAAQ,CAACa,KAAT,CAAeD,SAApB,oBAFmB;AAG5BE,IAAAA,OAAO,EAAEV;AAHmB,GAA7B,CADH,EAME,MAAC,gBAAD;AAAkB,IAAA,IAAI,EAAEL,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD,CA/BD;;GAAMF,U;;KAAAA,U;AAiCN,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport CategoryDropdown from \"./CategoryDropdown\";\r\nimport { StyledCategory } from \"./CategoryStyle\";\r\n\r\nexport interface CategoriesProps {\r\n  open?: boolean;\r\n  children: React.ReactElement;\r\n}\r\n\r\nconst Categories: React.FC<CategoriesProps> = ({ open: isOpen, children }) => {\r\n  const [open, setOpen] = useState(isOpen);\r\n  const popoverRef = useRef(open);\r\n  popoverRef.current = open;\r\n\r\n  const toggleMenu = (e) => {\r\n    e.stopPropagation();\r\n    if (!isOpen) setOpen(!open);\r\n  };\r\n\r\n  const handleDocumentClick = () => {\r\n    if (popoverRef.current && !isOpen) setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"click\", handleDocumentClick);\r\n    return () => {\r\n      window.removeEventListener(\"click\", handleDocumentClick);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <StyledCategory open={open}>\r\n      {React.cloneElement(children, {\r\n        open,\r\n        className: `${children.props.className} cursor-pointer`,\r\n        onClick: toggleMenu,\r\n      })}\r\n      <CategoryDropdown open={open} />\r\n    </StyledCategory>\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n"]},"metadata":{},"sourceType":"module"}